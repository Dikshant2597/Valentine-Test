<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{margin:0;padding:0;width:100%;height:100%;overflow:hidden;font-family:Poppins,sans-serif}
.hidden{display:none}
body.romantic{background:radial-gradient(circle,#ff9dbb,#ff4f87)}
body.birthday{background:radial-gradient(circle,#ffe066,#ffb703)}

.center{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:5}
.box{background:#fff;padding:40px;border-radius:25px;box-shadow:0 20px 50px rgba(0,0,0,.25);max-width:520px;text-align:center}

button{border:none;padding:14px 26px;border-radius:30px;font-size:18px;cursor:pointer}
.yes{background:#ff3b7a;color:white}
.no{background:#eee}

.stage{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;gap:140px}
.card{width:520px;height:680px;perspective:1400px}
.inner{width:100%;height:100%;transition:1s;transform-style:preserve-3d}
.card.flip .inner{transform:rotateY(180deg)}
.face{position:absolute;inset:0;backface-visibility:hidden;border-radius:30px;overflow:hidden;box-shadow:0 30px 70px rgba(0,0,0,.35)}
.face img{width:100%;height:100%;object-fit:cover}
.back{transform:rotateY(180deg);background:white;display:flex;align-items:center;justify-content:center;padding:40px;font-size:24px}

.action{display:flex;flex-direction:column;gap:20px}
.clickme{background:#ff3b7a;color:white}

#typing{font-size:28px;color:white;width:80%;text-align:center}
</style>
</head>

<body class="romantic">

<!-- VALENTINE -->
<div class="center" id="start">
  <div class="box">
    <h1>Baby, will you be my Valentine? ğŸ’–</h1>
    <div style="margin-top:25px;display:flex;gap:40px;justify-content:center">
      <button class="yes" id="yesBtn">Yes</button>
      <button class="no" id="noBtn">No</button>
    </div>
  </div>
</div>

<!-- SLIDES -->
<div class="stage hidden" id="stage">
  <div class="card" id="card">
    <div class="inner">
      <div class="face front"><img id="photo"></div>
      <div class="face back" id="message"></div>
    </div>
  </div>
  <div class="action">
    <button class="clickme" id="clickMe">Click me â¤ï¸</button>
  </div>
</div>

<!-- WHY -->
<div class="center hidden" id="why"><div id="typing"></div></div>

<!-- CONTRACT -->
<div class="center hidden" id="contract">
  <div class="box">
    <h2>â¤ï¸ Love Contract â¤ï¸</h2>
    <p>By touching below, you agree to unlimited love, mana-o-ing & forever us.</p>
    <button id="sign">Sign with thumb ğŸ’•</button>
  </div>
</div>

<!-- COUNTDOWN -->
<div class="center hidden" id="countdown">
  <h1 id="count" style="font-size:80px;color:white"></h1>
</div>

<!-- WISH GENERATOR -->
<div class="center hidden" id="wishGen">
  <div class="box">
    <h2>ğŸ Birthday Wish Generator ğŸ°</h2>
    <p id="wishText">Click to generate todayâ€™s wish ğŸ’–</p>
    <button id="wishBtn">Generate todayâ€™s wish ğŸ</button><br><br>
    <button id="wishDone" class="hidden">Continue ğŸ‰</button>
  </div>
</div>

<script>
const romanticPhotos=[
 {src:"photos/romantic1.jpg",msg:"Every love story is beautiful, but ours is my favourite."},
 {src:"photos/romantic2.jpg",msg:"With you, even silence feels warm."},
 {src:"photos/romantic3.jpg",msg:"You are my calm and my chaos."}
];
const birthdayPhotos=[
 {src:"photos/bday1.jpg",msg:"Your smile deserves a national holiday."},
 {src:"photos/bday2.jpg",msg:"25 looks unreal on you."},
 {src:"photos/bday3.jpg",msg:"You light up every room you walk into."}
];
const wishes=[
 "Unlimited hugs â€” redeem anytime ğŸ¤—",
 "Lifetime supply of mana-o-ing ğŸ’•",
 "One free argument win coupon ğŸ˜Œ",
 "Unlimited forehead kisses ğŸ˜˜",
 "Emergency chocolate access ğŸ«"
];

let set=romanticPhotos,i=0,noCount=0;

const start=document.getElementById("start");
const stage=document.getElementById("stage");
const photo=document.getElementById("photo");
const message=document.getElementById("message");
const card=document.getElementById("card");
const clickMe=document.getElementById("clickMe");

document.getElementById("noBtn").onmouseover=()=>{
  noCount++;
  document.getElementById("noBtn").style.transform=
   `translate(${Math.random()*200-100}px,${Math.random()*150-75}px)`;
  if(noCount>3) alert("Haha ğŸ˜ˆ thereâ€™s no escape. Press Yes â¤ï¸");
};

document.getElementById("yesBtn").onclick=()=>{
  start.classList.add("hidden");
  stage.classList.remove("hidden");
  load();
};

clickMe.onclick=()=>{
  card.classList.add("flip");
  clickMe.classList.add("hidden");
  setTimeout(next,6000);
};

function load(){
  card.classList.remove("flip");
  clickMe.classList.remove("hidden");
  photo.src=set[i].src;
  message.textContent=set[i].msg;
}

function next(){
  i++;
  if(i<set.length){load();}
  else if(set===romanticPhotos){whyChoose();}
  else {showWish();} // âœ… ONLY AFTER birthday photos end
}

function whyChoose(){
  stage.classList.add("hidden");
  const lines=[
    "I choose you becauseâ€¦",
    "you calm my chaos",
    "you make ordinary days special",
    "you feel like home"
  ];
  let t=0,c=0;
  const el=document.getElementById("typing");
  document.getElementById("why").classList.remove("hidden");
  const iv=setInterval(()=>{
    el.textContent+=lines[t][c++]||"";
    if(c>=lines[t].length){
      t++;c=0;el.textContent+="\n";
      if(t>=lines.length){clearInterval(iv);setTimeout(contract,1500);}
    }
  },80);
}

function contract(){
  document.getElementById("why").classList.add("hidden");
  document.getElementById("contract").classList.remove("hidden");
}

document.getElementById("sign").onclick=()=>{
  alert("Haha ğŸ˜ now youâ€™re mine!");
  document.getElementById("contract").classList.add("hidden");
  countdown();
};

function countdown(){
  const cd=document.getElementById("countdown");
  const c=document.getElementById("count");
  cd.classList.remove("hidden");
  let n=3;
  const iv=setInterval(()=>{
    c.textContent=n--;
    if(n<0){
      clearInterval(iv);
      cd.classList.add("hidden");
      switchBirthday();
    }
  },1000);
}

function switchBirthday(){
  document.body.className="birthday";
  set=birthdayPhotos;
  i=0;
  stage.classList.remove("hidden");
  load();
}

function showWish(){
  stage.classList.add("hidden");
  document.getElementById("wishGen").classList.remove("hidden");
}

document.getElementById("wishBtn").onclick=()=>{
  document.getElementById("wishText").textContent=
   wishes[Math.floor(Math.random()*wishes.length)];
  document.getElementById("wishDone").classList.remove("hidden");
};

document.getElementById("wishDone").onclick=()=>{
  alert("Happy Valentineâ€™s Day â¤ï¸\nHappy Birthday ğŸ‚\nI love you.");
};
</script>
</body>
</html>
